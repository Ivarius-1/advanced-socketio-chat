# Чат-приложение на Socket.IO

Многопользовательское чат-приложение с поддержкой групповых комнат и личных сообщений, построенное на Socket.IO, Express и Prisma.

### 1. Групповые чаты (комнаты)
- Создание комнат с опциональным паролем
- Системные сообщения с настраиваемым интервалом показа
- Список активных пользователей в комнате
- История сообщений
 
<img src="/screenshots/Снимок экрана от 2025-10-31 12-21-14.png" /> 

### 2. Личные сообщения
- Приватные чаты между пользователями
- Отдельный список личных переписок
- История личных сообщений
- Индикаторы прочтения

### 3. Модерация
- Роли: модератор (создатель комнаты) и участник
- Возможность временного мута пользователей
- Исключение пользователей из комнаты
- Управление системными сообщениями

<img src="/screenshots/Снимок экрана от 2025-10-31 12-24-56.png" /> 

### 4. Уведомления и статусы
- Индикаторы прочтения сообщений
- Отображение активных пользователей
- Системные уведомления
- Счетчики непрочитанных сообщений

<img src="/screenshots/Снимок экрана от 2025-10-31 12-26-02.png" /> 

## Установка

1. Клонируйте репозиторий:
```bash
git clone [URL репозитория]
cd socket.io-chat
```

2. Установите зависимости:
```bash
npm install
```

3. Настройте базу данных:
- Создайте PostgreSQL базу данных
- Скопируйте `.env.example` в `.env`
- Укажите URL вашей базы данных в `.env`

4. Выполните миграции:
```bash
npx prisma migrate dev
```

5. Запустите сервер:
```bash
npm start
```

Приложение будет доступно по адресу: `http://localhost:3000`
```

## API Событий Socket.IO

### Клиент -> Сервер

- `user_created`: Регистрация пользователя
- `create_room`: Создание новой комнаты
- `join_room`: Присоединение к комнате
- `room_message`: Отправка сообщения в комнату
- `private_message`: Отправка личного сообщения
- `message_read`: Маркировка сообщения прочитанным
- `user_active`: Сигнал активности пользователя
- `mute_user`: Мут пользователя (только модератор)
- `kick_user`: Исключение пользователя (только модератор)
- `update_system_message`: Обновление системного сообщения

### Сервер -> Клиент

- `user_info`: Данные пользователя
- `room_created`: Уведомление о создании комнаты
- `new_message`: Новое сообщение
- `message_read_update`: Обновление статуса прочтения
- `user_activity_update`: Обновление активности пользователя
- `user_muted`: Уведомление о муте
- `user_kicked`: Уведомление об исключении
- `systemNotice`: Системное сообщение
- `error`: Сообщение об ошибке

